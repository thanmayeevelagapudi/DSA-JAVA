/*
LeetCode: 238 - Product of Array Except Self

Input : [1,2,3,4]
Output: [24,12,8,6]

Constraints:
- Division is NOT allowed.
- Must run in O(n) time.
- Use constant extra space (excluding output array)

Time Complexity: O(n)
Space Complexity: O(1) (excluding output array)

Approach: Prefix & Suffix Product

Product except self = (product of all elements to the LEFT of i)
                    * (product of all elements to the RIGHT of i)

Instead of storing two extra arrays (left[] and right[]),
we reuse the output array to keep space O(1).

*/

class ProductOfArrayExceptSelf {

    public int[] productExceptSelf(int[] nums) {
        int n = nums.length;
        int[] result = new int[n];

        // Step 1: Left products
        int left = 1;
        for (int i = 0; i < n; i++) {
            result[i] = left;
            left = left * nums[i];  //left product array =[1,1,2,6]
        }

        // Step 2: Right products
        int right = 1;
        for (int i = n - 1; i >= 0; i--) {
            result[i] = result[i] * right;  // result[i] = left * right; [24,12,8,6]
            right = right * nums[i];
        }

        return result;
    }
}

/*
Edge Cases:
- Array contains zero
- Array contains negative numbers
- Array size = 1
*/
